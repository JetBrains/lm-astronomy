{"ast":null,"code":"var _jsxFileName = \"/Users/sergo/Work/lm-astronomy/src/front/src/components/ObjectSelect/ObjectSelect.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport './ObjectSelect.css';\nimport CoordinatesContext from '../../components/Contexts/CoordinatesContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst objectList = ['', 'Accreting Object', 'Active Galactic Nuclei', 'Black Hole', 'Neutron Star', 'Nova', 'Supernova', 'Star & Stellar System', 'Variable Star', 'Exoplanet', 'Stellar Evolution Stage', 'Minor Body', 'Binary System', 'Pulsar', 'Interstellar Medium', 'Galaxy', 'Quasar', 'Globular Cluster', 'Near-earth object', 'Magnetar', 'Repeater', 'Circumstellar Disk', 'Electromagnetic Source'];\nconst options = objectList.map(item => ({\n  // value: item.toLowerCase().replace(/\\s+/g, '-'),\n  value: item,\n  label: item\n}));\nfunction ObjectSelect(props) {\n  _s();\n  const {\n    selectedObject,\n    setSelectedObject\n  } = useContext(CoordinatesContext);\n  const [selectedOption, setSelectedOption] = useState(() => options.find(opt => opt.value === selectedObject));\n  const handleChange = option => {\n    setSelectedOption(option);\n    setSelectedObject(option.value);\n    props.onObjectChange(option.value);\n  };\n\n  // Этот useEffect обновляет selectedOption, если selectedObject в контексте меняется\n  useEffect(() => {\n    setSelectedOption(options.find(opt => opt.value === selectedObject));\n  }, [selectedObject]);\n  return /*#__PURE__*/_jsxDEV(Select, {\n    classNamePrefix: \"reactSelect\",\n    id: \"object\",\n    value: selectedOption,\n    onChange: handleChange,\n    options: options,\n    placeholder: \"physical phenomena / object\",\n    isMulti: false,\n    isSearchable: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(ObjectSelect, \"3p8XuN9ZAUWAuCH8IaYvkYjBqyQ=\");\n_c = ObjectSelect;\nexport default ObjectSelect;\nvar _c;\n$RefreshReg$(_c, \"ObjectSelect\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Select","CoordinatesContext","jsxDEV","_jsxDEV","objectList","options","map","item","value","label","ObjectSelect","props","_s","selectedObject","setSelectedObject","selectedOption","setSelectedOption","find","opt","handleChange","option","onObjectChange","classNamePrefix","id","onChange","placeholder","isMulti","isSearchable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sergo/Work/lm-astronomy/src/front/src/components/ObjectSelect/ObjectSelect.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport './ObjectSelect.css';\nimport CoordinatesContext from '../../components/Contexts/CoordinatesContext';\n\nconst objectList = [\n    '',\n    'Accreting Object',\n    'Active Galactic Nuclei',\n    'Black Hole',\n    'Neutron Star',\n    'Nova',\n    'Supernova',\n    'Star & Stellar System',\n    'Variable Star',\n    'Exoplanet',\n    'Stellar Evolution Stage',\n    'Minor Body',\n    'Binary System',\n    'Pulsar',\n    'Interstellar Medium',\n    'Galaxy',\n    'Quasar',\n    'Globular Cluster',\n    'Near-earth object',\n    'Magnetar',\n    'Repeater',\n    'Circumstellar Disk',\n    'Electromagnetic Source'\n];\n\nconst options = objectList.map(item => ({\n    // value: item.toLowerCase().replace(/\\s+/g, '-'),\n    value: item,\n    label: item\n}));\nfunction ObjectSelect(props) {\n    const { selectedObject, setSelectedObject } = useContext(CoordinatesContext);\n    const [selectedOption, setSelectedOption] = useState(() => options.find(opt => opt.value === selectedObject));\n\n    const handleChange = (option) => {\n        setSelectedOption(option);\n        setSelectedObject(option.value);\n        props.onObjectChange(option.value);\n    };\n\n    // Этот useEffect обновляет selectedOption, если selectedObject в контексте меняется\n    useEffect(() => {\n        setSelectedOption(options.find(opt => opt.value === selectedObject));\n    }, [selectedObject]);\n\n    return (\n        <Select\n            classNamePrefix=\"reactSelect\"\n            id=\"object\"\n            value={selectedOption}\n            onChange={handleChange}\n            options={options}\n            placeholder=\"physical phenomena / object\"\n            isMulti={false}\n            isSearchable={true}\n        />\n    );\n}\n\nexport default ObjectSelect;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAO,oBAAoB;AAC3B,OAAOC,kBAAkB,MAAM,8CAA8C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,UAAU,GAAG,CACf,EAAE,EACF,kBAAkB,EAClB,wBAAwB,EACxB,YAAY,EACZ,cAAc,EACd,MAAM,EACN,WAAW,EACX,uBAAuB,EACvB,eAAe,EACf,WAAW,EACX,yBAAyB,EACzB,YAAY,EACZ,eAAe,EACf,QAAQ,EACR,qBAAqB,EACrB,QAAQ,EACR,QAAQ,EACR,kBAAkB,EAClB,mBAAmB,EACnB,UAAU,EACV,UAAU,EACV,oBAAoB,EACpB,wBAAwB,CAC3B;AAED,MAAMC,OAAO,GAAGD,UAAU,CAACE,GAAG,CAACC,IAAI,KAAK;EACpC;EACAC,KAAK,EAAED,IAAI;EACXE,KAAK,EAAEF;AACX,CAAC,CAAC,CAAC;AACH,SAASG,YAAYA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACzB,MAAM;IAAEC,cAAc;IAAEC;EAAkB,CAAC,GAAGjB,UAAU,CAACI,kBAAkB,CAAC;EAC5E,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,MAAMO,OAAO,CAACY,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACV,KAAK,KAAKK,cAAc,CAAC,CAAC;EAE7G,MAAMM,YAAY,GAAIC,MAAM,IAAK;IAC7BJ,iBAAiB,CAACI,MAAM,CAAC;IACzBN,iBAAiB,CAACM,MAAM,CAACZ,KAAK,CAAC;IAC/BG,KAAK,CAACU,cAAc,CAACD,MAAM,CAACZ,KAAK,CAAC;EACtC,CAAC;;EAED;EACAT,SAAS,CAAC,MAAM;IACZiB,iBAAiB,CAACX,OAAO,CAACY,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACV,KAAK,KAAKK,cAAc,CAAC,CAAC;EACxE,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,oBACIV,OAAA,CAACH,MAAM;IACHsB,eAAe,EAAC,aAAa;IAC7BC,EAAE,EAAC,QAAQ;IACXf,KAAK,EAAEO,cAAe;IACtBS,QAAQ,EAAEL,YAAa;IACvBd,OAAO,EAAEA,OAAQ;IACjBoB,WAAW,EAAC,6BAA6B;IACzCC,OAAO,EAAE,KAAM;IACfC,YAAY,EAAE;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAEV;AAACnB,EAAA,CA3BQF,YAAY;AAAAsB,EAAA,GAAZtB,YAAY;AA6BrB,eAAeA,YAAY;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}